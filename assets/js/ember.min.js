(function(){var t,e,n,a,i,h,r,o,c,d,l,s,g,u,w,f,v,m,y;$(function(){return f()}),$(function(){return $("#canvaSquare").click(function(){m()})}),v=g=u=l=s=y=o=null,w=[],t=5,f=function(){v=document.getElementById("canvaSquare").dataset.shape,motion=document.getElementById("canvaSquare").dataset.motion,"ember"===motion?(n=500,i=15):(n=100,i=5),g=document.getElementById("canvaSquare"),u=g.getContext("2d"),u.canvas.width=window.innerWidth,u.canvas.height=window.innerHeight,l=document.createElement("canvas"),s=l.getContext("2d"),s.canvas.width=u.canvas.width,s.canvas.height=u.canvas.height,y=setInterval(r,i),e(v),o=setInterval(c,t)},a=function(){var t,e,n;e=1.05,t=.8,n=10,this.x=Math.round(Math.random()*g.width),this.y=Math.round(Math.random()*g.height),this.speed=Math.random()*e,this.opacity=Math.random()*t,this.width=Math.random()*n+1,this.height=this.width},r=function(){w[w.length]=new a,w.length===n&&(clearInterval(y),clearInterval(o))},c=function(){h(motion),e(v)},d=function(){s.fillStyle="#2A2B3D",s.fillRect(0,0,s.canvas.width,s.canvas.height)},h=function(t){var e,n,a,i,h;if(e=1.001,"ember"===t)for(a=i=0,h=w.length;h>i;a=++i)n=w[a],w[a].y>=0-w[a].width?(w[a].y-=.2*Math.random()+w[a].speed,w[a].height=e,w[a].height-=w[a].width):w[a].x=-1*w[a].width;else for(a=i=0,h=w.length;h>i;a=++i)n=w[a],w[a].x<=g.width+w[a].width?(w[a].width+=e,w[a].height=w[a].width):w[a].x=-1*w[a].width},e=function(t){var e,n,a,i,h,r,o;if(u.save(),d(),"circle"===t){for(e=.5,a=i=0,r=w.length;r>i;a=++i)n=w[a],s.beginPath(),s.arc(w[a].x,w[a].y,w[a].width/2,0,2*Math.PI,!1),s.fillStyle="rgba(81,83,107,"+w[a].opacity+")",s.fill(),s.lineWidth=e,s.strokeStyle="rgba(60,50,103,0.5)",s.stroke();u.drawImage(l,0,0,l.width,l.height),u.restore()}if("square"===t){for(a=h=0,o=w.length;o>h;a=++h)n=w[a],s.fillStyle="rgba(81,83,107,"+w[a].opacity+")",s.fillRect(w[a].x,w[a].y,w[a].width,w[a].height);u.drawImage(l,0,0,l.width,l.height),u.restore()}},m=function(){clearInterval(y),clearInterval(r),clearInterval(o)}}).call(this);